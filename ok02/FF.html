<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>FORTY-FORTH Simulator</title>

  <style>
    body { font-family:monospace; }
    </style>
    
<script>
//alert(0x65);
</script>
<script>
var RAMB0000=[
  0x4010,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000,0x0000, // 0000-000F
  0x4760,0xA003,0x447D,0xA003,0x4000,0xA003,0x4000,0xA003,0x4000,0xA003,0x4000,0xA003,0x4000,0xA003,0x0010,0xA003, // 0010-001F
  0x0000,0x3000,0x0001,0x4773,0x0029,0x45E4,0xB200,0xA003,0xFFF8,0x3002,0x0001,0x4773,0x0000,0x2F10,0xA009,0xA003, // 0020-002F
  0xFFF8,0x3004,0x0001,0x4781,0x0001,0x2F10,0xA009,0xA003,0xFFF8,0x3006,0x0007,0x4773,0x0020,0x45E4,0x465E,0x469E, // 0030-003F
  0xB300,0x46A7,0xA003,0xFFF5,0x300E,0x0004,0x4781,0xB412,0x1000,0xA002,0xB412,0xB300,0xA003,0xFFF6,0x3013,0x0003, // 0040-004F
  0x4781,0xB501,0xA00F,0x9001,0xA000,0xA003,0xFFF7,0x3017,0x0004,0x4781,0xB501,0x4051,0x0004,0x0000,0x4047,0xA008, // 0050-005F
  0x9002,0x0111,0x43C2,0x4300,0xA003,0xFFF1,0x301C,0x000B,0x477A,0x42CF,0xA00A,0x2F10,0xA00A,0x9001,0x405A,0xA003, // 0060-006F
  0xFFF5,0x3028,0x0008,0x4781,0x46B1,0x4068,0x4300,0x476B,0xA003,0xFFF7,0x3031,0x0006,0x4069,0x2800,0xFFFB,0x3038, // 0070-007F
  0x0002,0x4069,0x2801,0xFFFB,0x303B,0x0002,0x4069,0x2802,0xFFFB,0x303E,0x0002,0x4069,0x2803,0xFFFB,0x3041,0x0004, // 0080-008F
  0x4069,0x2F00,0xFFFB,0x3046,0x0009,0x4069,0x2F01,0xFFFB,0x3050,0x0003,0x4069,0x2F02,0xFFFB,0x3054,0x0007,0x4069, // 0090-009F
  0x2F03,0xFFFB,0x305C,0x0007,0x4069,0x2F04,0xFFFB,0x3064,0x0004,0x4069,0x2F05,0xFFFB,0x3069,0x0007,0x4069,0x2F06, // 00A0-00AF
  0xFFFB,0x3071,0x0004,0x4069,0x2F07,0xFFFB,0x3076,0x0004,0x4069,0x2F08,0xFFFB,0x307B,0x0003,0x4069,0x2F09,0xFFFB, // 00B0-00BF
  0x307F,0x0003,0x4069,0x2F0A,0xFFFB,0x3083,0x0003,0x4069,0x2F0B,0xFFFB,0x3087,0x0003,0x4069,0x2F0C,0xFFFB,0x308B, // 00C0-00CF
  0x0003,0x4069,0x2F0D,0xFFFB,0x308F,0x0007,0x4069,0x2F0E,0xFFFB,0x3097,0x0002,0x4069,0x2F0F,0xFFFB,0x309A,0x0004, // 00D0-00DF
  0x4069,0x2F10,0xFFFB,0x309F,0x0003,0x4069,0x2F11,0xFFFB,0x30A3,0x0004,0x4069,0x2F12,0xFFFB,0x30A8,0x0005,0x4069, // 00E0-00EF
  0x2F13,0xFFFB,0x30AE,0x0006,0x4069,0x2F14,0xFFFB,0x30B5,0x0003,0x4069,0x2F15,0xFFFB,0x30B9,0x0005,0x4069,0x2F16, // 00F0-00FF
  0xFFFB,0x30BF,0x000C,0x4069,0x2F17,0xFFFB,0x30CC,0x0007,0x4069,0x01CB,0xFFFB,0x30D4,0x0006,0x4781,0x000A,0x0003, // 0100-010F
  0x4047,0xA003,0xFFF8,0x30DB,0x0008,0x477A,0x42CF,0x2F10,0xA00A,0x9003,0xA00A,0x4300,0x8001,0x430B,0xA003,0xFFF3, // 0110-011F
  0x30E4,0x0005,0x4781,0x46B1,0x4115,0x4300,0x410E,0x4300,0x476B,0xA003,0xFFF5,0x30EA,0x0005,0x4116,0xA000,0xA003, // 0120-012F
  0xFFFA,0x30F0,0x0002,0x4116,0xA001,0xA003,0xFFFA,0x30F3,0x0002,0x4116,0xA002,0xA003,0xFFFA,0x30F6,0x0002,0x4116, // 0130-013F
  0xA00D,0xA003,0xFFFA,0x30F9,0x0003,0x4116,0xA00F,0xA003,0xFFFA,0x30FD,0x0008,0x4116,0xA005,0xA003,0xFFFA,0x3106, // 0140-014F
  0x0003,0x4116,0xA00B,0xA003,0xFFFA,0x310A,0x0003,0x4116,0xA008,0xA003,0xFFFA,0x310E,0x0002,0x4116,0xA00E,0xA003, // 0150-015F
  0xFFFA,0x3111,0x0002,0x4116,0xA007,0xA003,0xFFFA,0x3114,0x0001,0x4116,0xA009,0xA003,0xFFFA,0x3116,0x0001,0x4116, // 0160-016F
  0xA00A,0xA003,0xFFFA,0x3118,0x0004,0x4116,0xB412,0xA003,0xFFFA,0x311D,0x0004,0x4116,0xB502,0xA003,0xFFFA,0x3122, // 0170-017F
  0x0003,0x4116,0xB501,0xA003,0xFFFA,0x3126,0x0003,0x4116,0xB434,0xA003,0xFFFA,0x312A,0x0004,0x4116,0xB300,0xA003, // 0180-018F
  0xFFFA,0x312F,0x0005,0x4116,0xB43C,0xA003,0xFFFA,0x3135,0x0005,0x4116,0xB60C,0xA003,0xFFFA,0x313B,0x0004,0x4116, // 0190-019F
  0xB603,0xA003,0xFFFA,0x3140,0x0005,0x4116,0xB200,0xA003,0xFFFA,0x3146,0x0004,0x4116,0x8000,0xA003,0xFFFA,0x314B, // 01A0-01AF
  0x0002,0x4781,0x2F13,0xA00A,0xA009,0x0001,0x2F13,0x42C4,0xA003,0xFFF5,0x314E,0x0002,0x4781,0x2F13,0xA00A,0x405A, // 01B0-01BF
  0xB501,0x4300,0xB412,0xB501,0xA00A,0x41B2,0x4286,0xB412,0x428D,0xB501,0xA00D,0x9FF6,0xB200,0x0020,0x41B2,0xA003, // 01C0-01CF
  0xFFE9,0x3151,0x0007,0x477A,0x45E4,0x2F10,0xA00A,0x9003,0x41BD,0x42CF,0x46A7,0xA003,0xFFF4,0x3159,0x0005,0x4781, // 01D0-01DF
  0x46B1,0x0001,0x2F10,0xA009,0x4300,0x41D3,0xFFFF,0x2F15,0x42C4,0xA003,0xFFF2,0x315F,0x0001,0x0022,0x41D4,0xA003, // 01E0-01EF
  0xFFFA,0x3161,0x0002,0x0022,0x41D4,0x433C,0xA003,0xFFF9,0x3164,0x0004,0x4781,0x2F0F,0xA00A,0xA003,0xFFF9,0x3169, // 01F0-01FF
  0x0005,0x4781,0x0008,0xA003,0xFFFA,0x316F,0x0006,0x4781,0x0009,0xA003,0xFFFA,0x3176,0x0006,0x4781,0x0000,0x1000, // 0200-020F
  0xB434,0xA002,0xB412,0xB300,0xB412,0x0FFF,0xA008,0xA00E,0xA003,0xFFF1,0x317D,0x0005,0x4781,0x2F0F,0x42C4,0xA003, // 0210-021F
  0xFFF9,0x3183,0x0007,0x4781,0x41FB,0x4286,0x4294,0x4202,0x420E,0x4300,0xA003,0xFFF5,0x318B,0x0008,0x4781,0x41FB, // 0220-022F
  0x4286,0x4294,0x4208,0x420E,0x4300,0xA003,0xFFF5,0x3194,0x0005,0x4773,0x41FB,0xA003,0xFFFA,0x319A,0x0005,0x4773, // 0230-023F
  0x4224,0xA003,0xFFFA,0x31A0,0x0005,0x4773,0x422F,0xA003,0xFFFA,0x31A6,0x0002,0x4773,0x4208,0x0001,0x421D,0x41FB, // 0240-024F
  0xA003,0xFFF7,0x31A9,0x0006,0x4773,0x41FB,0xB502,0x4294,0xB434,0x420E,0xB412,0x428D,0xA009,0xA003,0xFFF3,0x31B0, // 0250-025F
  0x0004,0x4773,0x0001,0x421D,0x4254,0x4202,0x41FB,0xA003,0xFFF6,0x31B5,0x0005,0x4773,0x424B,0xA003,0xFFFA,0x31BB, // 0260-026F
  0x0006,0x4773,0xB434,0x423F,0x4254,0xA003,0xFFF8,0x31C2,0x0002,0x4781,0xA00A,0xA003,0xFFFA,0x31C5,0x0002,0x4781, // 0270-027F
  0xA009,0xA003,0xFFFA,0x31C8,0x0002,0x4781,0x0001,0xA007,0xA003,0xFFF9,0x31CB,0x0002,0x4781,0xFFFF,0xA007,0xA003, // 0280-028F
  0xFFF9,0x31CE,0x0002,0x4781,0xA000,0xA007,0xA003,0xFFF9,0x31D1,0x0001,0x4781,0x4294,0xA00D,0xA003,0xFFF9,0x31D3, // 0290-029F
  0x0002,0x4781,0x4294,0xA00F,0xA003,0xFFF9,0x31D6,0x0001,0x4781,0xB412,0x42A2,0xA003,0xFFF9,0x31D8,0x0002,0x4781, // 02A0-02AF
  0x0000,0xB434,0xB434,0xA002,0xB412,0xB300,0xA003,0xFFF5,0x31DB,0x0003,0x4781,0x31DF,0x0004,0x41F5,0x8FFC,0xA003, // 02B0-02BF
  0xFFF7,0x31E4,0x0002,0x4781,0xB412,0xB502,0xA00A,0xA007,0xB412,0xA009,0xA003,0xFFF5,0x31E7,0x0002,0x4781,0x2802, // 02C0-02CF
  0xA00A,0x4286,0xA00A,0x2802,0xA00A,0x4286,0x2802,0xB603,0xA00A,0xA00A,0xB412,0xA009,0xA009,0xA003,0xFFED,0x31EA, // 02D0-02DF
  0x0002,0x4781,0x2802,0xA00A,0xB501,0x428D,0x2802,0xB603,0xA00A,0xA00A,0xB412,0xB501,0x428D,0x2802,0xA009,0xA009, // 02E0-02EF
  0xA009,0xA009,0xA003,0xFFEB,0x31ED,0x0001,0x4781,0x2802,0xA00A,0x4286,0xA00A,0xA003,0xFFF7,0x31EF,0x0001,0x4781, // 02F0-02FF
  0x2F0F,0xA00A,0xA009,0x0001,0x2F0F,0x42C4,0xA003,0xFFF5,0x31F1,0x0007,0x4781,0x2803,0xA009,0xA003,0xFFF9,0x31F9, // 0300-030F
//0x0003,0x4781,0x8000,0x44AC,0xA00B,0x9002,0xB300,0x8FFA,0xA003,0xFFF5,0x31FD,0x0004,0x4781,0x014C,0x430B,0xA003, // 0310-031F
  0x0003,0x4781,0xA004,0x44AC,0xA00B,0x9002,0xB300,0x8FFA,0xA003,0xFFF5,0x31FD,0x0004,0x4781,0x014C,0x430B,0xA003, // 0310-031F //8000 ersetzt durch A004
  0xFFF9,0x3202,0x0005,0x4781,0x0000,0xB412,0x0010,0xA002,0xB412,0xA003,0xFFF6,0x3208,0x0003,0x4781,0xB501,0x000A, // 0320-032F
  0x42A2,0x9001,0x8002,0x0007,0xA007,0x0030,0xA007,0xA003,0xFFF2,0x320C,0x0004,0x4781,0xB501,0x9008,0xB412,0xB501, // 0330-033F
  0x427A,0x431D,0x4286,0xB412,0x428D,0x8FF6,0xB200,0xA003,0xFFF0,0x3211,0x0003,0x4781,0x4324,0x432E,0x431D,0x4324, // 0340-034F
  0x432E,0x431D,0x4324,0x432E,0x431D,0x4324,0x432E,0x431D,0xB300,0xA003,0xFFEE,0x3215,0x0002,0x4781,0x434C,0x0020, // 0350-035F
  0x431D,0xA003,0xFFF8,0x3218,0x0002,0x4781,0xA00A,0x435E,0xA003,0xFFF9,0x321B,0x0002,0x4781,0x2F07,0xA00A,0x2F0F, // 0360-036F
  0xA00A,0x4294,0x2F10,0xA00A,0xA00D,0xA00B,0xA00E,0x2F00,0xA00A,0xA00D,0xA00B,0xA008,0x9028,0x003C,0x431D,0x321E, // 0370-037F
  0x0003,0x41F5,0x2F07,0xA00A,0x435E,0x2F06,0xA00A,0x435E,0x003C,0x431D,0x3222,0x0004,0x41F5,0x003C,0x431D,0x3227, // 0380-038F
  0x0003,0x41F5,0x2F0F,0xA00A,0x435E,0x2F13,0xA00A,0x435E,0x003C,0x431D,0x322B,0x0004,0x41F5,0x2F0F,0xA00A,0x2F07, // 0390-039F
  0xA009,0x2F13,0xA00A,0x2F06,0xA009,0x000A,0x431D,0xA003,0xFFC1,0x3230,0x000A,0x4781,0xA003,0xFFFB,0x323B,0x0007, // 03A0-03AF
  0x4781,0x436D,0x3243,0x0019,0x41F5,0x0020,0x431D,0x0008,0x431D,0x4312,0x001B,0x429B,0x9FF8,0xA003,0xFFEF,0x325D, // 03B0-03BF
  0x0005,0x4781,0xB501,0x2F0E,0xA009,0x0000,0x2F10,0xA009,0x436D,0x2F0A,0xA00A,0x2F0C,0xA00A,0x2F0A,0xA00A,0x4294, // 03C0-03CF
  0x428D,0x433C,0x3263,0x0003,0x41F5,0x3267,0x000A,0x41EF,0x46C6,0x436D,0x3272,0x0016,0x41F5,0x435E,0x43B1,0x4713, // 03D0-03DF
  0xA003,0xFFDD,0x3289,0x0004,0x4781,0x2801,0xA00A,0x2F15,0xA009,0xA003,0xFFF7,0x328E,0x0004,0x4781,0x2801,0xA00A, // 03E0-03EF
  0x2F15,0xA00A,0x4294,0x9002,0x0009,0x43C2,0xA003,0xFFF3,0x3293,0x0005,0x4781,0x4286,0x2F17,0xA00A,0xB502,0x4294, // 03F0-03FF
  0xB501,0x2F17,0xA009,0xA009,0xA003,0xFFF2,0x3299,0x0009,0x4781,0x2F17,0xA00A,0xB501,0xA00A,0xA007,0x2F17,0xA009, // 0400-040F
  0xA003,0xFFF4,0x32A3,0x0002,0x4781,0x2F17,0xA00A,0x4286,0xA003,0xFFF8,0x32A6,0x0002,0x4781,0x2F17,0xA00A,0x0002, // 0410-041F
  0xA007,0xA003,0xFFF7,0x32A9,0x0002,0x4781,0x2F17,0xA00A,0x0003,0xA007,0xA003,0xFFF7,0x32AC,0x0002,0x4781,0x2F17, // 0420-042F
  0xA00A,0x0004,0xA007,0xA003,0xFFF7,0x32AF,0x0002,0x4781,0x2F17,0xA00A,0x0005,0xA007,0xA003,0xFFF7,0x32B2,0x0002, // 0430-043F
  0x4781,0x2F17,0xA00A,0x0006,0xA007,0xA003,0xFFF7,0x32B5,0x0002,0x4781,0x2F17,0xA00A,0x0007,0xA007,0xA003,0xFFF7, // 0440-044F
  0x32B8,0x0002,0x4781,0x2F17,0xA00A,0x0008,0xA007,0xA003,0xFFF7,0x32BB,0x0001,0x4773,0x0020,0x45E4,0x465E,0x469E, // 0450-045F
  0xB300,0x4286,0x2F10,0xA00A,0x9001,0x405A,0xA003,0xFFF1,0x32BD,0x0005,0x4781,0xB501,0xA00A,0x4286,0xB501,0x03FF, // 0460-046F
  0xA008,0x0000,0x429B,0x9002,0xFC00,0xA007,0xB412,0xA009,0xA003,0xFFEE,0x32C3,0x0007,0x4781,0x2800,0xA00A,0xB501, // 0470-047F
  0x0008,0x42A2,0x9009,0x0018,0xA007,0xA00A,0xB501,0x9002,0xB501,0x430B,0xB300,0x8018,0x2F03,0xA00A,0xA009,0x2F03, // 0480-048F
  0x446B,0x2F03,0xA00A,0x2F04,0xA00A,0x4294,0x03FF,0xA008,0x0080,0x42A9,0x9009,0x2F05,0xA00A,0xA00D,0x9005,0xFFFF, // 0490-049F
  0x2F05,0xA009,0x0013,0x431D,0x0000,0x2800,0xA009,0xA003,0xFFD1,0x32CB,0x0008,0x4781,0x2F04,0xA00A,0x2F03,0xA00A, // 04A0-04AF
  0x429B,0x9003,0x0000,0x0000,0x8018,0x2F04,0xA00A,0xA00A,0xFFFF,0x2F04,0x446B,0x2F03,0xA00A,0x2F04,0xA00A,0x4294, // 04B0-04BF
  0x03FF,0xA008,0x0020,0x42A2,0x9008,0x2F05,0xA00A,0x9005,0x0000,0x2F05,0xA009,0x0011,0x431D,0xA003,0xFFDA,0x32D4, // 04C0-04CF
  0x0006,0x4781,0x0005,0x43FB,0x4426,0xA009,0x441D,0xA009,0x441D,0xA00A,0x4438,0xA009,0x4312,0xB501,0x0014,0x429B, // 04D0-04DF
  0x9004,0xB300,0x441D,0xA00A,0x427A,0xB501,0x007F,0x429B,0x9002,0xB300,0x0008,0xB501,0x0008,0x429B,0x9012,0x4438, // 04E0-04EF
  0xA00A,0x441D,0xA00A,0x42A2,0x900C,0xFFFF,0x441D,0x42C4,0x0001,0x4426,0x42C4,0x0008,0x431D,0x0020,0x431D,0x0008, // 04F0-04FF
  0x431D,0xB501,0x0020,0x42A2,0x9001,0x8012,0xFFFF,0x4426,0x42C4,0x4426,0xA00A,0xA00F,0x9002,0x0006,0x43C2,0xB501, // 0500-050F
  0x431D,0xB501,0x441D,0xA00A,0x4280,0x0001,0x441D,0x42C4,0xB501,0x0020,0x42A2,0xB502,0x0008,0x429B,0xA00B,0xA008, // 0510-051F
  0xB412,0x001B,0x429B,0xA00B,0xA008,0x4426,0xA00A,0xA00D,0xA00E,0x9FB2,0x0020,0x431D,0x4438,0xA00A,0x441D,0xA00A, // 0520-052F
  0x4438,0xA00A,0x4294,0xB603,0xA007,0x0000,0xB412,0x4280,0x4409,0xA003,0xFF94,0x32DB,0x0005,0x4781,0xB501,0x0030, // 0530-053F
  0x42A2,0xA00B,0xB502,0x003A,0x42A2,0xA008,0xB502,0x0041,0x42A2,0xA00B,0xA00E,0xB501,0x9015,0xB412,0x0030,0x4294, // 0540-054F
  0xB501,0x000A,0x42A2,0xA00B,0x9002,0x0007,0x4294,0xB501,0x2F08,0xA00A,0x42A2,0xA00B,0x9004,0xB300,0xB300,0x0000, // 0550-055F
  0x0000,0xB412,0xA003,0xFFD7,0x32E1,0x0006,0x4781,0x0007,0x43FB,0x441D,0xA009,0x4415,0xA009,0x0000,0x441D,0xA00A, // 0560-056F
  0x9063,0xB501,0x4426,0xA009,0x0001,0x4441,0xA009,0xFFFF,0x444A,0xA009,0x4415,0xA00A,0x4426,0xA00A,0xA007,0x427A, // 0570-057F
  0x002B,0x429B,0x9009,0x4426,0xA00A,0x4286,0x4426,0xA009,0x0000,0x444A,0xA009,0x8016,0x4415,0xA00A,0x4426,0xA00A, // 0580-058F
  0xA007,0x427A,0x002D,0x429B,0x900D,0x4426,0xA00A,0x4286,0x4426,0xA009,0x0000,0x444A,0xA009,0x4441,0xA00A,0xA000, // 0590-059F
  0x4441,0xA009,0x444A,0xA00A,0x9FD2,0x4426,0xA00A,0x441D,0xA00A,0x42A2,0x9029,0x4415,0xA00A,0x4426,0xA00A,0xA007, // 05A0-05AF
  0x427A,0xB501,0x9015,0x453E,0xA00B,0x9007,0xB300,0x441D,0xA00A,0xA000,0x441D,0xA009,0x800A,0xB412,0x2F08,0xA00A, // 05B0-05BF
  0x42B0,0xA007,0x4426,0xA00A,0x4286,0x4426,0xA009,0x8005,0xB300,0x4426,0xA00A,0x441D,0xA009,0x4426,0xA00A,0x441D, // 05C0-05CF
  0xA00A,0x42A2,0xA00B,0x9FD7,0x4441,0xA00A,0xA00F,0x9001,0xA000,0x4426,0xA00A,0x441D,0xA00A,0x4294,0x4409,0xA003, // 05D0-05DF
  0xFF83,0x32E8,0x0004,0x4781,0x42E2,0x2F0C,0xA00A,0x2F0B,0xA009,0x2F0C,0xA00A,0x427A,0x42F7,0x429B,0x2F0C,0xA00A, // 05E0-05EF
  0x2F0D,0xA00A,0x42A2,0xA008,0x9004,0x0001,0x2F0C,0x42C4,0x8FF0,0x2F0C,0xA00A,0x2F0B,0xA009,0x2F0C,0xA00A,0x427A, // 05F0-05FF
  0x003C,0x429B,0x9004,0x2F0C,0xA00A,0x2F0D,0xA009,0x2F0C,0xA00A,0x427A,0x42F7,0x429B,0xA00B,0x2F0C,0xA00A,0x2F0D, // 0600-060F
  0xA00A,0x42A2,0xA008,0x9004,0x0001,0x2F0C,0x42C4,0x8FE5,0x2F0B,0xA00A,0x2F0C,0xA00A,0xB502,0x4294,0xB501,0x9003, // 0610-061F
  0x0001,0x2F0C,0x42C4,0x42CF,0xB300,0xA003,0xFFBA,0x32ED,0x0002,0x4781,0x42E2,0xB502,0x42F7,0x4294,0x9007,0x42CF, // 0620-062F
  0xB300,0xB300,0xB300,0xB300,0x0000,0x8023,0x42CF,0xB300,0xB412,0x0000,0xB603,0x4294,0x9016,0x42E2,0x42E2,0xB502, // 0630-063F
  0x427A,0xB502,0x427A,0x4294,0x9004,0xB300,0xB300,0x0000,0x0000,0xB501,0x9004,0x4286,0xB412,0x4286,0xB412,0x42CF, // 0640-064F
  0x42CF,0x4286,0x8FE7,0xB200,0xB300,0x9002,0xFFFF,0x8001,0x0000,0xA003,0xFFCC,0x32F0,0x0004,0x4781,0x42E2,0x42E2, // 0650-065F
  0x0000,0x2F11,0xA00A,0x2F01,0xA00A,0x9003,0xB501,0xA00A,0xA007,0xB501,0x4286,0xB501,0xA00A,0xB412,0x4286,0xA00A, // 0660-066F
  0x42CF,0x42CF,0xB603,0x42E2,0x42E2,0x462A,0x9003,0xB412,0xA00D,0xB412,0xB502,0xA00D,0xB502,0xA00A,0xA00D,0xA00B, // 0670-067F
  0xA008,0xB502,0xB501,0xA00A,0xA007,0x2F11,0xA00A,0x429B,0xA00B,0xA008,0x9004,0xB501,0xA00A,0xA007,0x8FDA,0x42CF, // 0680-068F
  0xB300,0x42CF,0xB434,0xA00D,0x9004,0xB300,0xB300,0x0000,0x0000,0xA003,0xFFC0,0x32F5,0x0004,0x4781,0xB412,0x0003, // 0690-069F
  0xA007,0xB412,0xA003,0xFFF7,0x32FA,0x0008,0x4781,0x0004,0x0000,0x4047,0xA00E,0x4300,0xA003,0xFFF6,0x3303,0x0006, // 06A0-06AF
  0x4781,0x43E5,0x2F0F,0xA00A,0x2F11,0xA00A,0xB502,0x4294,0x4300,0x2F11,0xA009,0x0020,0x45E4,0x41BD,0x0001,0x2F01, // 06B0-06BF
  0xA009,0xA003,0xFFEB,0x330A,0x0009,0x4781,0x2F0A,0xA00A,0x42E2,0x2F0B,0xA00A,0x42E2,0x2F0C,0xA00A,0x42E2,0x2F0D, // 06C0-06CF
  0xA00A,0x42E2,0xB502,0xA007,0x2F0D,0xA009,0xB501,0x2F0A,0xA009,0xB501,0x2F0B,0xA009,0x2F0C,0xA009,0x0020,0x45E4, // 06D0-06DF
  0xB501,0x901F,0xB603,0x465E,0xB501,0x9009,0x42E2,0x42E2,0xB200,0x42CF,0x42CF,0x469E,0xB300,0x430B,0x8011,0xB200, // 06E0-06EF
  0xB603,0x4567,0x9005,0xB200,0xB300,0x0003,0x43C2,0x8008,0xB434,0xB300,0xB412,0xB300,0x2F10,0xA00A,0x9001,0x405A, // 06F0-06FF
  0x8FDD,0xB200,0x42CF,0x2F0D,0xA009,0x42CF,0x2F0C,0xA009,0x42CF,0x2F0B,0xA009,0x42CF,0x2F0A,0xA009,0xA003,0xFFB3, // 0700-070F
  0x3314,0x0004,0x4781,0x2F02,0xA00A,0x2802,0xA009,0x2F00,0xA00A,0x9006,0x003C,0x431D,0x3319,0x0004,0x41F5,0x8003, // 0710-071F
  0x331E,0x0002,0x41F5,0x436D,0x2F09,0xA00A,0x0100,0x44D2,0xB502,0xA00A,0x003C,0x429B,0x9002,0xB200,0x802B,0x2F00, // 0720-072F
  0xA00A,0x900C,0x003C,0x431D,0x3321,0x0003,0x41F5,0x46C6,0x003C,0x431D,0x3325,0x0004,0x41F5,0x801C,0x001B,0x431D, // 0730-073F
  0x005B,0x431D,0x0033,0x431D,0x0036,0x431D,0x006D,0x431D,0x46C6,0x2F10,0xA00A,0xA00D,0x9003,0x332A,0x0002,0x41F5, // 0740-074F
  0x001B,0x431D,0x005B,0x431D,0x0033,0x431D,0x0039,0x431D,0x006D,0x431D,0x8FC8,0xA003,0xFFB3,0x332D,0x0005,0x4781, // 0750-075F
  0x3333,0x000B,0x41F5,0x436D,0x436D,0x4713,0xA003,0xFFF5,0x333F,0x0006,0x4781,0x0000,0x2F01,0xA009,0xA003,0xFFF8, // 0760-076F
  0x3346,0x000C,0x4781,0x42CF,0x42E2,0xA003,0xFFF9,0x3353,0x000A,0x4781,0x42CF,0x46A7,0xA003,0xFFF9,0x335E,0x0003, // 0770-077F
  0x4781,0x42CF,0x2F10,0xA00A,0x9002,0x46A7,0x8001,0x42E2,0xA003,0xFFF4,0x3362,0x000A,0x4781,0x46B1,0x0001,0x2F10, // 0780-078F
  0xA009,0x4772,0xA003,0xFFF6,0x336D,0x0008,0x4781,0x46B1,0x0001,0x2F10,0xA009,0x4779,0xA003,0xFFF6,0x3376,0x0001, // 0790-079F
  0x4781,0x46B1,0x0001,0x2F10,0xA009,0x4780,0xA003,0xFFF6,0x3378,0x0001,0x4773,0x0000,0x2F10,0xA009,0x43EE,0x410E, // 07A0-07AF
  0x4300,0x476B,0xA003,0xFFF4,0x337A,0x0003,0x4781,0x2F16,0xA00A,0x9005,0x4324,0xB300,0x4324,0xB300,0x8006,0x4324, // 07B0-07BF
  0x432E,0x431D,0x4324,0x432E,0x431D,0x4324,0x432E,0x431D,0x4324,0x432E,0x431D,0xB300,0xA003,0xFFE6,0x337E,0x0003, // 07C0-07CF
  0x4781,0x3382,0x0001,0x41F5,0x0022,0x431D,0x47B7,0x0022,0x431D,0x3384,0x0001,0x41F5,0xA003,0xFFF0,0x3386,0x0005, // 07D0-07DF
  0x4781,0x2F16,0xA009,0x2F00,0xA00A,0x42E2,0x0000,0x2F00,0xA009,0x338C,0x0008,0x41EF,0x46C6,0x0004,0x0000,0x4047, // 07E0-07EF
  0xA00E,0x0010,0xA009,0x436D,0x003C,0x431D,0x3395,0x0006,0x41F5,0x436D,0x339C,0x0002,0x41F5,0x0000,0xB603,0xA007, // 07F0-07FF
  0xB501,0x2F03,0x429B,0x9002,0xB300,0x2F04,0xB501,0x2F17,0x429B,0x9005,0xB300,0x2D00,0x2F80,0xA009,0x2F80,0xB501, // 0800-080F
  0x2F05,0x429B,0x9002,0xB300,0x2F00,0xA00A,0x47D1,0x4286,0xB501,0x0010,0x429B,0x9FE2,0xB300,0x339F,0x0004,0x41F5, // 0810-081F
  0xB501,0x434C,0x33A4,0x0001,0x41F5,0xB501,0x000F,0xA007,0x434C,0x0010,0xA007,0xB603,0x42A9,0xA00B,0x9FCA,0xB200, // 0820-082F
  0x436D,0x003C,0x431D,0x33A6,0x0007,0x41F5,0x42CF,0x2F00,0xA009,0xA003,0x33B4,0x0008,0x4781,0x2F20,0xA00A,0xB501, // 0830-083F
  ];
//alert(RAMB0000);

var RAMB3000=[

  0x28,0x20,0x7B,0x20,0x7D,0x20,0x43,0x4F,0x4D,0x50,0x49,0x4C,0x45,0x20,0x4D,0x4C, // 3000-300F
  0x49,0x54,0x20,0x41,0x42,0x53,0x20,0x4C,0x49,0x54,0x2C,0x20,0x28,0x43,0x4F,0x4E, // 3010-301F
  0x53,0x54,0x41,0x4E,0x54,0x3A,0x29,0x20,0x43,0x4F,0x4E,0x53,0x54,0x41,0x4E,0x54, // 3020-302F
  0x20,0x4B,0x45,0x59,0x41,0x44,0x52,0x20,0x53,0x50,0x20,0x52,0x50,0x20,0x50,0x43, // 3030-303F
  0x20,0x58,0x42,0x49,0x54,0x20,0x53,0x4D,0x55,0x44,0x47,0x45,0x42,0x49,0x54,0x20, // 3040-304F
  0x52,0x50,0x30,0x20,0x49,0x52,0x41,0x4D,0x41,0x44,0x52,0x20,0x4A,0x52,0x41,0x4D, // 3050-305F
  0x41,0x44,0x52,0x20,0x58,0x4F,0x46,0x46,0x20,0x43,0x52,0x42,0x5A,0x45,0x49,0x47, // 3060-306F
  0x20,0x43,0x52,0x44,0x50,0x20,0x42,0x41,0x53,0x45,0x20,0x54,0x49,0x42,0x20,0x49, // 3070-307F
  0x4E,0x31,0x20,0x49,0x4E,0x32,0x20,0x49,0x4E,0x33,0x20,0x49,0x4E,0x34,0x20,0x45, // 3080-308F
  0x52,0x52,0x4F,0x52,0x4E,0x52,0x20,0x44,0x50,0x20,0x53,0x54,0x41,0x54,0x20,0x4C, // 3090-309F
  0x46,0x41,0x20,0x42,0x41,0x4E,0x46,0x20,0x42,0x5A,0x45,0x49,0x47,0x20,0x44,0x50, // 30A0-30AF
  0x4D,0x45,0x52,0x4B,0x20,0x43,0x53,0x50,0x20,0x44,0x55,0x42,0x49,0x54,0x20,0x4C, // 30B0-30BF
  0x4F,0x43,0x41,0x4C,0x41,0x44,0x52,0x45,0x53,0x53,0x45,0x20,0x56,0x45,0x52,0x53, // 30C0-30CF
  0x49,0x4F,0x4E,0x20,0x52,0x45,0x54,0x55,0x52,0x4E,0x20,0x28,0x4D,0x43,0x4F,0x44, // 30D0-30DF
  0x45,0x3A,0x29,0x20,0x4D,0x43,0x4F,0x44,0x45,0x20,0x4D,0x49,0x4E,0x55,0x53,0x20, // 30E0-30EF
  0x55,0x2B,0x20,0x55,0x2A,0x20,0x30,0x3D,0x20,0x30,0x4C,0x54,0x20,0x45,0x4D,0x49, // 30F0-30FF
  0x54,0x43,0x4F,0x44,0x45,0x20,0x4E,0x4F,0x54,0x20,0x41,0x4E,0x44,0x20,0x4F,0x52, // 3100-310F
  0x20,0x4D,0x2B,0x20,0x21,0x20,0x40,0x20,0x53,0x57,0x41,0x50,0x20,0x4F,0x56,0x45, // 3110-311F
  0x52,0x20,0x44,0x55,0x50,0x20,0x52,0x4F,0x54,0x20,0x44,0x52,0x4F,0x50,0x20,0x32, // 3120-312F
  0x53,0x57,0x41,0x50,0x20,0x32,0x4F,0x56,0x45,0x52,0x20,0x32,0x44,0x55,0x50,0x20, // 3130-313F
  0x32,0x44,0x52,0x4F,0x50,0x20,0x4E,0x4F,0x4F,0x50,0x20,0x42,0x2C,0x20,0x5A,0x2C, // 3140-314F
  0x20,0x28,0x57,0x4F,0x52,0x44,0x3A,0x29,0x20,0x57,0x4F,0x52,0x44,0x3A,0x20,0x22, // 3150-315F
  0x20,0x2E,0x22,0x20,0x48,0x45,0x52,0x45,0x20,0x4A,0x52,0x42,0x49,0x54,0x20,0x4A, // 3160-316F
  0x52,0x30,0x42,0x49,0x54,0x20,0x58,0x53,0x45,0x54,0x42,0x54,0x20,0x41,0x4C,0x4C, // 3170-317F
  0x4F,0x54,0x20,0x42,0x52,0x41,0x4E,0x43,0x48,0x2C,0x20,0x30,0x42,0x52,0x41,0x4E, // 3180-318F
  0x43,0x48,0x2C,0x20,0x42,0x45,0x47,0x49,0x4E,0x20,0x41,0x47,0x41,0x49,0x4E,0x20, // 3190-319F
  0x55,0x4E,0x54,0x49,0x4C,0x20,0x49,0x46,0x20,0x45,0x4E,0x44,0x5F,0x49,0x46,0x20, // 31A0-31AF
  0x45,0x4C,0x53,0x45,0x20,0x57,0x48,0x49,0x4C,0x45,0x20,0x52,0x45,0x50,0x45,0x41, // 31B0-31BF
  0x54,0x20,0x43,0x40,0x20,0x43,0x21,0x20,0x31,0x2B,0x20,0x31,0x2D,0x20,0x4D,0x2D, // 31C0-31CF
  0x20,0x3D,0x20,0x4C,0x54,0x20,0x3E,0x20,0x4D,0x2A,0x20,0x42,0x59,0x45,0x20,0x42, // 31D0-31DF
  0x59,0x45,0x20,0x20,0x2B,0x21,0x20,0x52,0x3E,0x20,0x3E,0x52,0x20,0x52,0x20,0x2C, // 31E0-31EF
  0x20,0x45,0x58,0x45,0x43,0x55,0x54,0x45,0x20,0x4B,0x45,0x59,0x20,0x45,0x4D,0x49, // 31F0-31FF
  0x54,0x20,0x53,0x48,0x4C,0x31,0x36,0x20,0x44,0x49,0x47,0x20,0x54,0x59,0x50,0x45, // 3200-320F
  0x20,0x48,0x47,0x2E,0x20,0x4D,0x2E,0x20,0x4D,0x3F,0x20,0x43,0x52,0x20,0x66,0x6C, // 3210-321F
  0x3E,0x20,0x2F,0x66,0x6C,0x3E,0x20,0x66,0x72,0x3E,0x20,0x2F,0x66,0x72,0x3E,0x20, // 3220-322F
  0x46,0x45,0x48,0x4C,0x45,0x52,0x54,0x45,0x58,0x54,0x20,0x44,0x49,0x53,0x41,0x42, // 3230-323F
  0x4C,0x45,0x20,0x77,0x65,0x69,0x74,0x65,0x72,0x20,0x6E,0x61,0x63,0x68,0x20,0x54, // 3240-324F
  0x61,0x73,0x74,0x65,0x20,0x45,0x53,0x43,0x41,0x50,0x45,0x20,0x20,0x45,0x52,0x52, // 3250-325F
  0x4F,0x52,0x20,0x3F,0x3F,0x3F,0x20,0x46,0x45,0x48,0x4C,0x45,0x52,0x54,0x45,0x58, // 3260-326F
  0x54,0x20,0x45,0x52,0x52,0x4F,0x52,0x20,0x2D,0x20,0x46,0x65,0x68,0x6C,0x65,0x72, // 3270-327F
  0x20,0x4E,0x75,0x6D,0x6D,0x65,0x72,0x20,0x20,0x43,0x53,0x50,0x21,0x20,0x43,0x53, // 3280-328F
  0x50,0x3F,0x20,0x4C,0x4F,0x43,0x41,0x4C,0x20,0x45,0x4E,0x44,0x5F,0x4C,0x4F,0x43, // 3290-329F
  0x41,0x4C,0x20,0x4C,0x30,0x20,0x4C,0x31,0x20,0x4C,0x32,0x20,0x4C,0x33,0x20,0x4C, // 32A0-32AF
  0x34,0x20,0x4C,0x35,0x20,0x4C,0x36,0x20,0x4C,0x37,0x20,0x27,0x20,0x49,0x4E,0x43, // 32B0-32BF
  0x52,0x34,0x20,0x4B,0x45,0x59,0x5F,0x49,0x4E,0x54,0x20,0x4B,0x45,0x59,0x43,0x4F, // 32C0-32CF
  0x44,0x45,0x32,0x20,0x45,0x58,0x50,0x45,0x43,0x54,0x20,0x44,0x49,0x47,0x49,0x54, // 32D0-32DF
  0x20,0x4E,0x55,0x4D,0x42,0x45,0x52,0x20,0x57,0x4F,0x52,0x44,0x20,0x5A,0x3D,0x20, // 32E0-32EF
  0x46,0x49,0x4E,0x44,0x20,0x4C,0x43,0x46,0x41,0x20,0x43,0x4F,0x4D,0x50,0x49,0x4C, // 32F0-32FF
  0x45,0x2C,0x20,0x43,0x52,0x45,0x41,0x54,0x45,0x20,0x49,0x4E,0x54,0x45,0x52,0x50, // 3300-330F
  0x52,0x45,0x54,0x20,0x51,0x55,0x49,0x54,0x20,0x2F,0x6F,0x6B,0x3E,0x20,0x6F,0x6B, // 3310-331F
  0x20,0x6F,0x6B,0x3E,0x20,0x2F,0x6F,0x6B,0x3E,0x20,0x6F,0x6B,0x20,0x53,0x54,0x41, // 3320-332F
  0x52,0x54,0x20,0x46,0x4F,0x52,0x54,0x59,0x2D,0x46,0x4F,0x52,0x54,0x48,0x20,0x53, // 3330-333F
  0x4D,0x55,0x44,0x47,0x45,0x20,0x28,0x49,0x4D,0x4D,0x45,0x44,0x49,0x41,0x54,0x45, // 3340-334F
  0x3A,0x29,0x20,0x28,0x43,0x4F,0x4D,0x50,0x49,0x4C,0x45,0x3A,0x29,0x20,0x28,0x3A, // 3350-335F
  0x29,0x20,0x49,0x4D,0x4D,0x45,0x44,0x49,0x41,0x54,0x45,0x3A,0x20,0x43,0x4F,0x4D, // 3360-336F
  0x50,0x49,0x4C,0x45,0x3A,0x20,0x3A,0x20,0x3B,0x20,0x4C,0x47,0x2E,0x20,0x4E,0x47, // 3370-337F
  0x2E,0x20,0x78,0x20,0x2C,0x20,0x44,0x55,0x4D,0x50,0x5A,0x20,0x27,0x20,0x53,0x54, // 3380-338F
  0x41,0x52,0x54,0x20,0x20,0x44,0x55,0x4D,0x50,0x5A,0x3E,0x20,0x20,0x20,0x20,0x20, // 3390-339F
  0x2D,0x2D,0x20,0x20,0x2D,0x20,0x2F,0x44,0x55,0x4D,0x50,0x5A,0x3E,0x20,0x52,0x41, // 33A0-33AF
  ];
//alert(RAMB3000);

var RAMB2F00=[
  0x0000, //2F00 CONSTANT XBIT
  0x0000, //2F01 CONSTANT SMUDGEBIT
  0x3000, //2F02 CONSTANT RP0 3000 RP0 !
  0x3C08, //2F03 CONSTANT IRAMADR
  0x3C00, //2F04 CONSTANT JRAMADR
  0x0000, //2F05 CONSTANT XOFF
  0x3AF4, //2F06 CONSTANT CRBZEIG BZEIG @ CRBZEIG !
  0x1B5D, //2F07 CONSTANT CRDP DP @ 8 M- CRDP !
  0x0010, //2F08 CONSTANT BASE
  0x3B00, //2F09 CONSTANT TIB
  0x3B00, //2F0A CONSTANT IN1
  0x3B0C, //2F0B CONSTANT IN2
  0x3B12, //2F0C CONSTANT IN3
  0x3B45, //2F0D CONSTANT IN4
  0x0000, //2F0E CONSTANT ERRORNR 0 ERRORNR !
  0x083A, //2F0F CONSTANT DP
  0x0000, //2F10 CONSTANT STAT 0 STAT !
  0x07DD, //2F11 CONSTANT LFA
  0x3000, //2F12 CONSTANT BANF
  0x33AE, //2F13 CONSTANT BZEIG
  0x0020, //2F14 CONSTANT DPMERK
  0x0020, //2F15 CONSTANT CSP
  0x0000, //2F16 CONSTANT DUBIT
  0x2D00, //2F17 CONSTANT LOCALADRESSE
  ];

RAMB3C00=[
//0x37,0x0A,0x7B,0x20,0x7D,0x20,0x43,0x4F,0x4D,0x50,0x49,0x4C,0x45,0x20,0x4D,0x4C, // 3C00-3C0F: 7
//0x37,0x20,0x4D,0x2E,0x0A,0x20,0x43,0x4F,0x4D,0x50,0x49,0x4C,0x45,0x20,0x4D,0x4C, // 3C00-3C0F: 7 M.
  0x35,0x20,0x31,0x2B,0x20,0x4D,0x2E,0x0A,0x4D,0x50,0x49,0x4C,0x45,0x20,0x4D,0x4C, // 3C00-3C0F: 5 1+ M.
  ];

RAMB100000=[0x00000123,4,5,6,
7,0x80000014,0x88,0xA0000003,
0x99,0,0x9FFFFFEC,8,
-1,0x90000004,9,0xA,
0xB,0,0x90000004,9,
0xC,0xD,0x40100068,0x8FFFFFC0,
-1,-1,0x666,0x777,
0x888,0xA0000000/*MINUS*/,0x12345,0x54321,
0xA0000007/*+*/,0,0xA000000B/*NOT*/,1,
0xA000000B/*NOT*/,0,0xA000000D/*0=*/,1,
0xA000000D/*0=*/,7,0xA000000F/*0lt*/,-7,
0xA000000F/*0lt*/,0xA0000003,
];

RAMB20200000=[0x12345678,0x87654321];

for (var i=0;i<RAMB0000.length;i++) {
  var PD=RAMB0000[i];
  switch (PD&0xF000) {
    case 0x0000: PD=PD; break;
    case 0x1000: PD=PD; break;
    case 0x2000: PD=PD; break;
    case 0x3000: PD=PD; break;
    case 0x4000: PD=0x40100000+(PD&0x0FFF)*4; break;
    case 0x5000: PD=0x50100000+(PD&0x0FFF)*4; break;
    case 0x6000: PD=0x60100000+(PD&0x0FFF)*4; break;
    case 0x7000: PD=0x70100000+(PD&0x0FFF)*4; break;
    case 0x8000: if ((PD&0x0800)==0) PD=0x80000000+(PD&0x0FFF)*4; else PD=0x80000000+((((PD&0x0FFF)|0x0FFFF000)*4)&0x0FFFFFFF); break;
    case 0x9000: if ((PD&0x0800)==0) PD=0x90000000+(PD&0x0FFF)*4; else PD=0x90000000+((((PD&0x0FFF)|0x0FFFF000)*4)&0x0FFFFFFF); break;
    case 0xA000: PD=0xA0000000+(PD&0x0FFF); break;
    case 0xB000: PD=0xB0000000+(PD&0x0FFF); break;
    case 0xC000: PD=PD|0xFFFF0000; break;
    case 0xD000: PD=PD|0xFFFF0000; break;
    case 0xE000: PD=PD|0xFFFF0000; break;
    case 0xF000: PD=PD|0xFFFF0000; break;
    }
  RAMB100000[i]=PD;
  }
RAMB100000[0x1]=0xA0000003;
RAMB100000[0x31D]=0x00100000+4*RAMB0000[0x31D];
//RAMB100000[0x765]=0xA0000003;
var LFA=0x7DD;
var x=LFA;

while (RAMB100000[LFA]!=0) {x=LFA; LFA=LFA+RAMB100000[LFA]; RAMB100000[x]=RAMB100000[x]*4}
//in T LFA=0x100000+4*LFA setzen
RAMB100000[0x66A]=0xA000002E; //4+ statt 1+
RAMB100000[0x66E]=0xA000002E; //4+ statt 1+
RAMB100000[0x69F]=0x0C; //in LCFA 0C M+ statt 3 M+

//ab 0x34C
//  x"435E",x"A003",x"FFFA",x"33B6",x"0003",x"4781",x"0008",x"B412",x"4324",x"432E",x"431D",x"B412",x"0001",x"4844",x"B501",x"A00D", -- 0850-085F
//  x"9FF6",x"B200",x"A003",x"0000",x"0000",x"0000",x"0000",x"0000",x"0000",x"0000",x"0000",x"0000",x"0000",x"0000",x"0000",x"0000", -- 0860-086F
ok

function Display(RAM) {
  var Text="";
  for (var i=0;i<RAM.length;i++) Text=Text+(i*4).toHex0000()+" "+i.toHex0000()+" "+RAM[i].toHex0000()+"\n";
  document.getElementById("aktuell.txt").value=Text;
  }

  </script>
<script>
var PC=0;
var SP=0;
var RP=0;
var STAPEL=[];
var ST=0;
var STEP=0;
var PD=0;
var Logtext="";
var EText="";
var STARTSTEP=0;
var ENDSTEP=0;
Number.prototype.toHex0000=function() {
  if (0<=this&&this<0x10000) return ("0000"+this.toString(16).toUpperCase()).slice(-4);
    else return this.toString(16).toUpperCase()}
BigInt.prototype.toHex0000=function() {
  if (0n<=this&&this<0x10000n) return ("0000"+this.toString(16).toUpperCase()).slice(-4);
    else return this.toString(16).toUpperCase()}

//alert((0x10000000<<2).toHex0000());
//alert((-0x100000064n<<222n).toHex0000());

function V16Z32(n) {
  if (n>0x7FFF) return n-0x10000; else return n;  
  }

function FF_STEP() {
  if (STEP>STARTSTEP||PC>=0x100000) Logtext=Logtext+STEP.toHex0000()+" "+RP.toHex0000()+" "+PC.toHex0000();
  if (PC>=0x100000) Logtext=Logtext+" ("+((PC&0xFFFFF)/4).toHex0000()+")";
  if (PC<0X100000) {PD=RAMB0000[PC]; PC=PC+1} else {PD=RAMB100000[(PC&0xFFFFF)/4]; PC=PC+4}
  STEP=STEP+1;
  if (STEP>STARTSTEP||PC>=0x100000) Logtext=Logtext+" "+PD.toHex0000(16)+":";
  if (PC<0x100000) switch (PD>>>12) {
    case 0x4: RP=RP-1; RAMB0000[RP]=PC; PC=(PD&0X3FFF); break;
    case 0x5: RP=RP-1; RAMB0000[RP]=PC; PC=(PD&0X3FFF); break;
    case 0x6: RP=RP-1; RAMB0000[RP]=PC; PC=(PD&0X3FFF); break;
    case 0x7: RP=RP-1; RAMB0000[RP]=PC; PC=(PD&0X3FFF); break;
    case 0x8: if (PD<0x8800) PC=PC+(PD&0XFFF); else PC=PC+(PD&0XFFF)-0x1000; break;
    case 0x9: if (STAPEL[ST-1]==0) {if (PD<0x9800) PC=PC+(PD&0XFFF); else PC=PC+(PD&0XFFF)-0x1000} ST=ST-1; break;
    case 0xA: switch (PD) {
      case 0xA000: /* MINUS */ if (STAPEL[ST-1]!=0) STAPEL[ST-1]=0x10000-STAPEL[ST-1]; break;
      case 0xA001: /* U+ */ alert(STEP.toHex0000()+" "+PD.toHex0000()); break;
      case 0xA002: /* U* ( c b a -- (a*b+c)_high (a*b+c)_low ) unsigned */  
        var M=STAPEL[ST-3]+STAPEL[ST-2]*STAPEL[ST-1]; 
        STAPEL[ST-3]=(M&0xFFFF0000)>>>16;
        STAPEL[ST-2]=M&0xFFFF;
        ST=ST-1;
        break; 
      case 0xA003: /* RETURN */ PC=RAMB0000[RP]; RP=RP+1; break;
      case 0xA004: /*  */ if (RAMB0000[0x2F03]==RAMB0000[0x2F04]) STEP=ENDSTEP; break;
      case 0xA005: /* EMITCODE */  EText=EText+String.fromCharCode(STAPEL[ST-1]); Logtext=Logtext+String.fromCharCode(STAPEL[ST-1]); ST=ST-1; break;
      case 0xA006: /*  */ alert(STEP.toHex0000()+" "+PD.toHex0000()); break;
      case 0xA007: /* + */ STAPEL[ST-2]=STAPEL[ST-2]+STAPEL[ST-1]; 
        if (STAPEL[ST-2]>0xFFFF) STAPEL[ST-2]=STAPEL[ST-2]-0x10000;
        if (STAPEL[ST-2]<0) STAPEL[ST-2]=STAPEL[ST-2]+0x10000;
        ST=ST-1; 
        break;
      case 0xA008: /* AND */ STAPEL[ST-2]=STAPEL[ST-2]&STAPEL[ST-1]; ST=ST-1; break;
      case 0xA009: /* ! */ switch (STAPEL[ST-1]) {
        case 0x2803: PC=STAPEL[ST-2]; ST=ST-2; break;
        case 0x2802: RP=STAPEL[ST-2]; ST=ST-2; break;
        case 0x2801: ST=STAPEL[ST-2]; break;
        default: switch (STAPEL[ST-1]>>>16) {
          case 0x2020: RAMB20200000[(STAPEL[ST-1]&0xFFFF)/4]=STAPEL[ST-2]; ST=ST-2; break;
          case 0x0010: RAMB100000[(STAPEL[ST-1]&0xFFFF)/4]=STAPEL[ST-2]; ST=ST-2; break;
          default: RAMB0000[STAPEL[ST-1]]=STAPEL[ST-2]; ST=ST-2; break;
          }
        } break;
      case 0xA00A: /* @ */ switch (STAPEL[ST-1]) {
        case 0x2803: STAPEL[ST-1]=PC; break;
        case 0x2802: STAPEL[ST-1]=RP; break;
        case 0x2801: STAPEL[ST-1]=ST; break;
        default: switch (STAPEL[ST-1]>>>16) {
          case 0x2020: STAPEL[ST-1]=RAMB20200000[(STAPEL[ST-1]&0xFFFF)/4]; break;
          case 0x0010: STAPEL[ST-1]=RAMB100000[(STAPEL[ST-1]&0xFFFF)/4]; break;
          default: STAPEL[ST-1]=RAMB0000[STAPEL[ST-1]]; break;
          }
        } break;
      case 0xA00B: /* NOT */ STAPEL[ST-1]=0xFFFF-STAPEL[ST-1]; break;
      case 0xA00C: /*  */ alert(STEP.toHex0000()+" "+PD.toHex0000()); break;
      case 0xA00D: /*  0= */ if (STAPEL[ST-1]==0) STAPEL[ST-1]=0XFFFF; else STAPEL[ST-1]=0; break;
      case 0xA00E: /* ORR */ STAPEL[ST-2]=STAPEL[ST-2]|STAPEL[ST-1]; ST=ST-1; break;
      case 0xA00F: /*  0< */ if (STAPEL[ST-1]>0x7FFF) STAPEL[ST-1]=0XFFFF; else STAPEL[ST-1]=0; break;
      case 0xA021: /* D+ */ 
        var A=(STAPEL[ST-4]<<16)+STAPEL[ST-3]; 
        var B=(STAPEL[ST-2]<<16)+STAPEL[ST-1]; 
        var C=A+B;
        STAPEL[ST-4]=C>>>16;
        STAPEL[ST-3]=C&0xFFFF;
        ST=ST-2; 
        break;
      case 0xA027: /* N+ */ STAPEL[ST-2]=STAPEL[ST-2]+STAPEL[ST-1]; ST=ST-1; break;
      case 0xA029: /* 2! */ switch (STAPEL[ST-2]) {
        case 0x2020: RAMB20200000[STAPEL[ST-1]]=STAPEL[ST-3]+0x10000*STAPEL[ST-4]; ST=ST-4; break;
        default: alert(PD.toHex0000()); Startarray=[]; return; 
        } break;
      case 0xA02A: /* 2@ */ switch (STAPEL[ST-2]) {
        case 0x2020: alert(RAMB20200000);STAPEL[ST-2]=(RAMB20200000[STAPEL[ST-1]]&0xFFFF0000)>>>16; STAPEL[ST-1]=RAMB20200000[STAPEL[ST-1]]&0xFFFF; break;
        case 0x0010: //alert(RAMB100000[STAPEL[ST-1]/4].toHex0000());
          STAPEL[ST-2]=(RAMB100000[STAPEL[ST-1]/4]&0xFFFF0000)>>>16; 
          STAPEL[ST-1]=RAMB100000[STAPEL[ST-1]/4]&0xFFFF; 
          break;
        default: alert(PD.toHex0000()); Startarray=[]; return; 
        } break;
      case 0xA02B: /* 100000 EXECUTE */ RP=RP-1; RAMB0000[RP]=PC; PC=0X100000; break;
      case 0xA02C: /* UI */ STAPEL[ST-2]=STAPEL[ST-2]*0x10000+STAPEL[ST-1]; ST=ST-1; break;
      case 0xA02D: /* IU */ STAPEL[ST]=STAPEL[ST-1]&0xFFFF; STAPEL[ST-1]=STAPEL[ST-1]>>>16; ST=ST+1; break;
      default: alert(PD.toHex0000()); Startarray=[]; return; break;
      } break;
    case 0xB: switch (PD) {
      case 0xB200: /* 2DROP */ ST=ST-2; break;
      case 0xB300: /* DROP */ ST=ST-1; break;
      case 0xB412: /* SWAP */ PD=STAPEL[ST-2]; STAPEL[ST-2]=STAPEL[ST-1]; STAPEL[ST-1]=PD; break;
      case 0xB434: /*  ROT */ PD=STAPEL[ST-3]; STAPEL[ST-3]=STAPEL[ST-2]; STAPEL[ST-2]=STAPEL[ST-1]; STAPEL[ST-1]=PD; break;
      case 0xB43C: /* 2SWAP */ PD=[STAPEL[ST-4],STAPEL[ST-3]]; STAPEL[ST-4]=STAPEL[ST-2]; STAPEL[ST-3]=STAPEL[ST-1]; STAPEL[ST-2]=PD[0]; STAPEL[ST-1]=PD[1]; break;
      case 0xB501: /*  DUP */ STAPEL[ST]=STAPEL[ST-1]; ST=ST+1; break;
      case 0xB502: /* OVER */ STAPEL[ST]=STAPEL[ST-2]; ST=ST+1; break;
      case 0xB603: /* 2DUP */ STAPEL[ST]=STAPEL[ST-2]; STAPEL[ST+1]=STAPEL[ST-1]; ST=ST+2; break;
      case 0xB60C: /* 2OVER */ STAPEL[ST]=STAPEL[ST-4]; STAPEL[ST+1]=STAPEL[ST-3]; ST=ST+2; break;
      } break;
    default: STAPEL[ST]=PD; ST=ST+1; break;
    }  
//#########################################################################################
  else switch (PD>>>28) {
    case 0x4: RP=RP-1; RAMB0000[RP]=PC; PC=(PD&0X3FFFFFFF); break;
    case 0x5: RP=RP-1; RAMB0000[RP]=PC; PC=(PD&0X3FFFFFFF); break;
    case 0x6: RP=RP-1; RAMB0000[RP]=PC; PC=(PD&0X3FFFFFFF); break;
    case 0x7: RP=RP-1; RAMB0000[RP]=PC; PC=(PD&0X3FFFFFFF); break;
    case 0x8: if ((PD&0x0FFFFFFF)<0x08000000) PC=PC+(PD&0X0FFFFFFF); else PC=PC+(PD&0X0FFFFFFF)-0x10000000; break;
    case 0x9: if (STAPEL[ST-1]==0) {if ((PD&0x0FFFFFFF)<0x08000000) PC=PC+(PD&0X0FFFFFFF); else PC=PC+(PD&0X0FFFFFFF)-0x10000000} ST=ST-1; break;
    case 0xA: switch (PD&0xFF) {
      case 0x00: /* MINUS */ STAPEL[ST-1]=-STAPEL[ST-1]; break;
      case 0x01: /* U+ */ alert(STEP.toHex0000()+" "+PD.toHex0000()); break;
      case 0x02: /* U* ( c b a -- (a*b+c)_high (a*b+c)_low ) unsigned */  
        alert(STEP.toHex0000()+" "+PD.toHex0000());
        var M=STAPEL[ST-3]+STAPEL[ST-2]*STAPEL[ST-1]; 
        STAPEL[ST-3]=(M&0xFFFF0000)>>>16;
        STAPEL[ST-2]=M&0xFFFF;
        ST=ST-1;
        break; 
      case 0x03: /* RETURN */ PC=RAMB0000[RP]; RP=RP+1; break;
      case 0x04: /*  alert("case 0x04: "+PC.toHex0000()+" "+PD.toHex0000()+" "+RAMB0000[0x2F03]+" "+RAMB0000[0x2F04]+" "+STEP+" "+ENDSTEP); */ if (RAMB0000[0x2F03]==RAMB0000[0x2F04]) STEP=ENDSTEP; break;
      case 0x05: /* EMITCODE */  EText=EText+String.fromCharCode(STAPEL[ST-1]); Logtext=Logtext+String.fromCharCode(STAPEL[ST-1]); ST=ST-1; break;
      case 0x06: /*  */ alert(STEP.toHex0000()+" "+PD.toHex0000()); break;
      case 0x07: /* + */ STAPEL[ST-2]=STAPEL[ST-2]+STAPEL[ST-1];  ST=ST-1; break;
      case 0x08: /* AND */ STAPEL[ST-2]=STAPEL[ST-2]&STAPEL[ST-1]; ST=ST-1; break;
      case 0x09: /* ! */ switch (STAPEL[ST-1]) {
        case 0x2803: PC=STAPEL[ST-2]; ST=ST-2; break;
        case 0x2802: RP=STAPEL[ST-2]; ST=ST-2; break;
        case 0x2801: ST=STAPEL[ST-2]; break;
        default: switch (STAPEL[ST-1]>>>16) {
          case 0x2020: RAMB20200000[(STAPEL[ST-1]&0xFFFF)/4]=STAPEL[ST-2]; ST=ST-2; break;
          case 0x0010: 
            if (STAPEL[ST-1]&0x3) alert("! PC="+(((PC-4)&0xFFFFF)/4).toHex0000()+" STAPEL[ST-1]="+STAPEL[ST-1].toHex0000());
            RAMB100000[(STAPEL[ST-1]&0xFFFF)/4]=STAPEL[ST-2]; ST=ST-2; break;
          default: RAMB0000[STAPEL[ST-1]]=STAPEL[ST-2]; ST=ST-2; break;
          }
        } break;
      case 0x0A: /* @ */ switch (STAPEL[ST-1]) {
        case 0x2803: STAPEL[ST-1]=PC; break;
        case 0x2802: STAPEL[ST-1]=RP; break;
        case 0x2801: STAPEL[ST-1]=ST; break;
        default: switch (STAPEL[ST-1]>>>16) {
          case 0x2020: STAPEL[ST-1]=RAMB20200000[(STAPEL[ST-1]&0xFFFF)/4]; break;
          case 0x0010:
            if (STAPEL[ST-1]&0x3) alert("@ PC="+(((PC-4)&0xFFFFF)/4).toHex0000()+" STAPEL[ST-1]="+STAPEL[ST-1].toHex0000());
            STAPEL[ST-1]=RAMB100000[(STAPEL[ST-1]&0xFFFF)/4]; break;
          default: STAPEL[ST-1]=RAMB0000[STAPEL[ST-1]]; break;
          }
        } break;
      case 0x0B: /* NOT */ STAPEL[ST-1]=-1-STAPEL[ST-1]; break;
      case 0x0C: /*  */ alert(STEP.toHex0000()+" "+PD.toHex0000()); break;
      case 0x0D: /*  0= */ if (STAPEL[ST-1]==0) STAPEL[ST-1]=-1; else STAPEL[ST-1]=0; break;
      case 0x0E: /* ORR */ STAPEL[ST-2]=STAPEL[ST-2]|STAPEL[ST-1]; ST=ST-1; break;
      case 0x0F: /*  0< */ if (STAPEL[ST-1]<0) STAPEL[ST-1]=-1; else STAPEL[ST-1]=0; break;
      case 0x21: /* D+ */ 
        var A=(STAPEL[ST-4]<<16)+STAPEL[ST-3]; 
        var B=(STAPEL[ST-2]<<16)+STAPEL[ST-1]; 
        var C=A+B;
        STAPEL[ST-4]=C>>>16;
        STAPEL[ST-3]=C&0xFFFF;
        ST=ST-2; 
        break;
      case 0x27: /* N+ */ STAPEL[ST-2]=STAPEL[ST-2]+STAPEL[ST-1]; ST=ST-1; break;
      case 0x29: /* 2! */ switch (STAPEL[ST-2]) {
        case 0x2020: RAMB20200000[STAPEL[ST-1]]=STAPEL[ST-3]+0x10000*STAPEL[ST-4]; ST=ST-4; break;
        default: alert(PD.toHex0000()); Startarray=[]; return; 
        } break;
      case 0x2A: /* 2@ */ switch (STAPEL[ST-2]) {
        case 0x2020: alert(RAMB20200000);STAPEL[ST-2]=(RAMB20200000[STAPEL[ST-1]]&0xFFFF0000)>>>16; STAPEL[ST-1]=RAMB20200000[STAPEL[ST-1]]&0xFFFF; break;
        case 0x0010: //alert(RAMB100000[STAPEL[ST-1]/4].toHex0000());
          if (STAPEL[ST-1]&0x3) alert(STAPEL[ST-1].toHex0000());
          STAPEL[ST-2]=(RAMB100000[STAPEL[ST-1]/4]&0xFFFF0000)>>>16; 
          STAPEL[ST-1]=RAMB100000[STAPEL[ST-1]/4]&0xFFFF; 
          break;
        default: alert(PD.toHex0000()); Startarray=[]; return; 
        } break;
      case 0x2B: /* 100000 EXECUTE */ RP=RP-1; RAMB0000[RP]=PC; PC=0X100000; break;
      case 0x2C: /* UI */ STAPEL[ST-2]=STAPEL[ST-2]*0x10000+STAPEL[ST-1]; ST=ST-1; break;
      case 0x2D: /* IU */ STAPEL[ST]=STAPEL[ST-1]&0xFFFF; STAPEL[ST-1]=STAPEL[ST-1]>>>16; ST=ST+1; break;
      case 0x2E: /* 4+ */ STAPEL[ST-1]=STAPEL[ST-1]+4; break;
      default: alert(PD.toHex0000()); Startarray=[]; return; break;
      } break;
    case 0xB: switch (PD&0xFFF) {
      case 0x200: /* 2DROP */ ST=ST-2; break;
      case 0x300: /* DROP */ ST=ST-1; break;
      case 0x412: /* SWAP */ PD=STAPEL[ST-2]; STAPEL[ST-2]=STAPEL[ST-1]; STAPEL[ST-1]=PD; break;
      case 0x434: /*  ROT */ PD=STAPEL[ST-3]; STAPEL[ST-3]=STAPEL[ST-2]; STAPEL[ST-2]=STAPEL[ST-1]; STAPEL[ST-1]=PD; break;
      case 0x43C: /* 2SWAP */ PD=[STAPEL[ST-4],STAPEL[ST-3]]; STAPEL[ST-4]=STAPEL[ST-2]; STAPEL[ST-3]=STAPEL[ST-1]; STAPEL[ST-2]=PD[0]; STAPEL[ST-1]=PD[1]; break;
      case 0x501: /*  DUP */ STAPEL[ST]=STAPEL[ST-1]; ST=ST+1; break;
      case 0x502: /* OVER */ STAPEL[ST]=STAPEL[ST-2]; ST=ST+1; break;
      case 0x603: /* 2DUP */ STAPEL[ST]=STAPEL[ST-2]; STAPEL[ST+1]=STAPEL[ST-1]; ST=ST+2; break;
      case 0x60C: /* 2OVER */ STAPEL[ST]=STAPEL[ST-4]; STAPEL[ST+1]=STAPEL[ST-3]; ST=ST+2; break;
      } break;
    default: /*alert("num="+(PD&0X0FFFFFFF).toHex0000());*/
      STAPEL[ST]=PD; ST=ST+1;
      break;
    }  
  //for (var st=0;st<8;st++) Logtext=Logtext+" "+RAMB0000[0x2FF8+st].toHex0000(16); Logtext=Logtext+" ";
  if (STEP>STARTSTEP||PC>=0x100000) for (var st=0;st<ST;st++) Logtext=Logtext+" "+STAPEL[st].toHex0000(16);
  //Logtext=Logtext+"                          "+STAPEL.slice(0,ST);
  if (STEP>STARTSTEP||PC>=0x100000) Logtext=Logtext+"\n";
  }

function FF_RESTART() {
  PC=0; SP=0; RP=0x3000; STEP=0; STAPEL=[]; ST=0;
  for (var i=0x2900;i<0x4000;i++) RAMB0000[i]=0;
  for (var i=0;i<RAMB3000.length;i++) RAMB0000[i+0x3000]=RAMB3000[i];
  for (var i=0;i<RAMB3C00.length;i++) RAMB0000[i+0x3C00]=RAMB3C00[i];
  for (var i=0;i<RAMB2F00.length;i++) RAMB0000[i+0x2F00]=RAMB2F00[i];
  var Startcode="7 1+ M.\n77 88 M* M.\n: + M+ ;\n: - M- ;\n: * M* ;\n: . M. ;\n77 88 * .\n";
  for (var i=0;i<Startcode.length;i++) RAMB0000[i+0x3C00]=Startcode.charCodeAt(i);
  RAMB0000[0x2F03]=0x3C00+Startcode.length;
  Logtext="STEP   RP   PC   PD: STAPEL\n";
  //for (var i in document.getElementById("input")) Logtext=Logtext+i+"\n"; alert(Logtext);
  do {
    FF_STEP();
        STARTSTEP=0x1000F716;
        ENDSTEP=STARTSTEP+0X100;
    } while (STEP<ENDSTEP); //1F0:erstes KEYCODE, 3C2:INTERPRET, 08721: 7 ok,
  while (EText.indexOf(String.fromCharCode(0x1B))>-1) {
    EText=EText.replace(String.fromCharCode(0x1B, 0x5B, 0x33, 0x36, 0x6D),'<span style="color:blue">');
    EText=EText.replace(String.fromCharCode(0x1B, 0x5B, 0x33, 0x39, 0x6D),'</span>');
    }
  document.getElementById("Logfile").firstChild.nodeValue=Logtext;
  document.getElementById("Display").innerHTML=EText;
  //alert(RAMB0000[0x3B01]);
  }

function FF_CONTINUE(input0) {
  //var input=document.getElementById(idinput).value;
  var input=input0+String.fromCharCode(13);
  for (var i=0;i<input.length;i++) {
    RAMB0000[RAMB0000[0x2F03]]=input.charCodeAt(i);
    RAMB0000[0x2F03]=RAMB0000[0x2F03]+1;
    if (RAMB0000[0x2F03]==0x4000) RAMB0000[0x2F03]=0x3C00;
    }
  Logtext=Logtext.slice(-1000);
  STEP=0;//Logtext=Logtext+" "+event.charCode;
  if (PC>0x100000) {
//    alert("continue "+RAMB0000[0x2F03].toHex0000()+" "+RAMB0000[0x2F04].toHex0000());
//    alert(PC.toHex0000());
    //ENDSTEP=0x100;
    }
  //if ...>
  EText=EText+'</span><span style="color:blue">';
  for (var i=0;i<ST;i++) EText=EText+STAPEL[i].toHex0000()+" ";
  EText=EText+'</span><span style="border:solid Lightgrey 1px; background-color:LightGoldenrodYellow">';
  //for (var i in event) Logtext=Logtext+i+"\n"; alert(Logtext);
  if (PC>0x100000) {
//    alert(EText.slice(-100));
    }
  do {
    FF_STEP();
//  if (PC>0x100000) alert("nach FF_STEP(): "+RAMB0000[0x2F03].toHex0000()+" "+(PC.toHex0000()));
    //for (var st=0;st<8;st++) Logtext=Logtext+" "+RAMB0000[0x2FF8+st].toHex0000(16); Logtext=Logtext+" ";
    //if (STEP>STARTSTEP) for (var st=0;st<ST;st++) Logtext=Logtext+"#"+STAPEL[st].toHex0000(16);
    //Logtext=Logtext+"                          "+STAPEL.slice(0,ST);
    //if (STEP>STARTSTEP) Logtext=Logtext+"\n";
//        STARTSTEP=0x100706;
//        ENDSTEP=STARTSTEP+0X00200;
    } while (STEP<ENDSTEP); //1F0:erstes KEYCODE, 3C2:INTERPRET, 08721: 7 ok,
  EText=EText.replace(String.fromCharCode(0x20, 0x1B, 0x5B, 0x33, 0x36, 0x6D),'</span> <span style="color:blue">'); 
  EText=EText.replace(String.fromCharCode(0x1B, 0x5B, 0x33, 0x39, 0x6D),'</span>'); 
  document.getElementById("Logfile").firstChild.nodeValue=Logtext;
  if (Startarray.length>0) document.getElementById("Display").innerHTML=EText.slice(-10000);
    else document.getElementById("Display").innerHTML=EText;
  var SText=""; for (var i=0;i<ST;i++) SText=SText+STAPEL[i].toHex0000()+" ";
  document.getElementById("Stapel").firstChild.nodeValue=SText;  
  document.getElementById("input").value="";
  document.getElementById("Display").scrollTo({
    top: 100000,
    left: 0,
    //behavior: 'smooth'
    });
  }

var Startarray=[];
function Interpretiere(Code) {
  //alert(document.getElementById(Code).value);
  Startarray=document.getElementById(Code).value.split("\n");
  EText=EText.slice(-10000);
  //FF_CONTINUE(document.getElementById(Code).firstChild.nodeValue)
  Interpretiere_Startarray();
  //alert(Startarray.join("\n\n"));
  }

function Interpretiere_Startarray() {
  if (Startarray.length>0) {
    var ST=Startarray.shift();
    //alert(ST);
    FF_CONTINUE(ST);
    setTimeout(Interpretiere_Startarray,1);
    } //else setTimeout(Interpretiere,3000,"FFINIT1.txt");
  }

function Kopiere(Code) {
  document.getElementById("aktuell.txt").firstChild.nodeValue=document.getElementById(Code).firstChild.nodeValue;
  }

  </script>
  </head>

<body onload="FF_RESTART()">
<div id="Display" style="overflow:auto; max-height:400px; white-space:pre"></div>
<div><span id="Stapel" style="color:blue; border:none"> </span>
  <input id="input" type="text" style="font-family:monospace; background-color:LightGoldenrodYellow" onkeypress='if (event.charCode==13) {if (PC<0x100000) PC=PC-1; else PC=PC-4; FF_CONTINUE(document.getElementById("input").value)}' size="40" value=""> </input> <button onclick='if (PC<0x100000) PC=PC-1; else PC=PC-4; FF_CONTINUE(document.getElementById("input").value)' style="background-color:aqua;">Enter</button> <button onclick='Kopiere("FFCode")'>FFCode</button> <button onclick='Kopiere("FFINIT1.txt")'>FFINIT1.txt</button> <button onclick='Kopiere("DUMPZ")'>DUMPZ</button> <button onclick='Kopiere("INIT41.txt")'>INIT41.txt</button> <button onclick="STARTSTEP=0;STEP=0;ENDSTEP=0x1646">STARTSTEP=0</button> <button onclick="Display(RAMB100000)">RAMB100000</button> 
  </div>
<div style="vertical-align:top"><code><textarea id="aktuell.txt" cols="120" rows="20" >11 22 * 33 + .
</textarea></code><button onclick='Interpretiere("aktuell.txt")' style="background-color:aqua; vertical-align:top; font-size:200%">INTERPRET</button></div>
<div style="display:non">
<div style="height:400px"></div>
<textarea cols="120" rows="20" onkeydown="FF_CONTINUE()" >???
  </textarea>
<div id="Logfile" style="display:flex; flex-direction:row; white-space:pre; width:80%; max-height:800px; border:solid; overflow:auto">
  ??
  </div>
  </div>
<script id="FFCode">77 88 99 * + .
44 55 66 * + .
HERE 0 0 DUMPZ
2F20 2F00 0 DUMPZ
BZEIG @ 3000 1 DUMPZ
</script>
<script id="FFINIT1.txt"><?xml version="1.0" encoding="utf-8" ?>
<?xml-stylesheet type="text/xsl" href="INIT.xsl" ?>
<!DOCTYPE INIT SYSTEM "INIT.DTD">
<INIT>
<AXIOME>
<sekt inhalt="Axiome (sie enthalten Vorwärtsreferenzen und sind deshalb separat zusammengefasst)">
<sekt inhalt="vorab der Ablauf, was tun, wenn diese Axiome geändert werden müssen">
( wenn die Axiome so bleiben wie sie sind, ganz normal 1x hintereinanderweg compilieren )
( wenn die Axiome verändert werden sollen, dann )
  ( zuerst RESET und 1x die ursprünglichen Axiome laden )
  ( anschließend die neuen Axiome compilieren, so: )
    ( HERE 100 + DPMERK ! 3400 BANF ! )
    ( 2x neue Axiome compilieren <REF1/> )
    ( 0020 DPMERK ! 3000 BANF ! )
    ( 2x neue Axiome compilieren <REF1/> nochmal )
    ( danach alles, was nach den AXIOMEN folgt, 1x compilieren )
  ( bei verzwickten Veränderungen kann es vorkommen, )
  ( dass noch weitere Zwischenschritte eingefügt werden müssen. )
</sekt>

<sekt inhalt="Anfangszustand so herstellen wie zum Recompilieren benötigt">
( zuerst alles Notwendige wieder auf Ausgangszustand schalten )
2 2 M* DUP M* BASE !           ( HEX )
DPMERK @ DP ! BANF @ BZEIG ! ( DP und BZEIG auf Anfangswerte zurücksetzen )
</sekt>

<sekt inhalt="so, mit irgendwas muss das Compilieren losgehen">
IMMEDIATE: ( 29 WORD 2DROP ;
IMMEDIATE: { 0 STAT ! ; ( war ursprünglich mal [ )  
: } 1 STAT ! ;
IMMEDIATE: COMPILE 20 WORD FIND LCFA DROP COMPILE, ;
: MLIT ( a b -- 1000*a+b ) SWAP 1000 U* SWAP DROP ;
: ABS DUP 0LT IF MINUS END_IF ;
: LIT, ( a -- ) DUP ABS 04 000 MLIT AND IF 111 ERROR END_IF , ;
COMPILE: (CONSTANT:) R> @ STAT @ IF LIT, END_IF ;
</sekt>

<sekt inhalt="Konstanten">
: CONSTANT ( /name/  c -- ) CREATE COMPILE (CONSTANT:) , SMUDGE ;

2800 CONSTANT KEYADR
2801 CONSTANT SP
2802 CONSTANT RP
2803 CONSTANT PC

2F00 CONSTANT XBIT
2F01 CONSTANT SMUDGEBIT
2F02 CONSTANT RP0 3000 RP0 !
2F03 CONSTANT IRAMADR
2F04 CONSTANT JRAMADR
2F05 CONSTANT XOFF
2F06 CONSTANT CRBZEIG BZEIG @ CRBZEIG !
2F07 CONSTANT CRDP DP @ 8 M- CRDP !

2F08 CONSTANT BASE
2F09 CONSTANT TIB
2F0A CONSTANT IN1
2F0B CONSTANT IN2
2F0C CONSTANT IN3
2F0D CONSTANT IN4
2F0E CONSTANT ERRORNR 0 ERRORNR !
2F0F CONSTANT DP
2F10 CONSTANT STAT 0 STAT !
2F11 CONSTANT LFA
2F12 CONSTANT BANF
2F13 CONSTANT BZEIG
2F14 CONSTANT DPMERK
2F15 CONSTANT CSP
2F16 CONSTANT DUBIT
2F17 CONSTANT LOCALADRESSE

VERSION 1+ CONSTANT VERSION VERSION M.
</sekt>

<sekt inhalt="Maschinencode">
( A003 CONSTANT RETURN
( 0A 003 MLIT MCODE RETURN
: RETURN 0A 003 MLIT ;
COMPILE: (MCODE:) R> STAT @ IF @ , ELSE EXECUTE END_IF ;
: MCODE CREATE COMPILE (MCODE:) , RETURN , SMUDGE ;

0A 000 MLIT MCODE MINUS
0A 001 MLIT MCODE U+
0A 002 MLIT MCODE U*
0A 00D MLIT MCODE 0=
0A 00F MLIT MCODE 0LT
0A 005 MLIT MCODE EMITCODE
0A 00B MLIT MCODE NOT
0A 008 MLIT MCODE AND
0A 00E MLIT MCODE OR
0A 007 MLIT MCODE M+
0A 009 MLIT MCODE !
0A 00A MLIT MCODE @
0B 412 MLIT MCODE SWAP
0B 502 MLIT MCODE OVER
0B 501 MLIT MCODE DUP
0B 434 MLIT MCODE ROT
0B 300 MLIT MCODE DROP
0B 43C MLIT MCODE 2SWAP
0B 60C MLIT MCODE 2OVER
0B 603 MLIT MCODE 2DUP
0B 200 MLIT MCODE 2DROP
08 000 MLIT MCODE NOOP
</sekt>

<sekt inhalt="ein Abschnitt für die Zeichenketten">
: B, ( b -- ) BZEIG @ ! 1 BZEIG +! ;
: Z, ( badr n -- ) BZEIG @ LIT, DUP ,
  BEGIN SWAP DUP @ B, 1+ SWAP 1- DUP 0= UNTIL
  2DROP 20 B, ; 
COMPILE: (WORD:) WORD STAT @ IF Z, R> COMPILE, END_IF ;
: WORD: CREATE 1 STAT ! , COMPILE (WORD:) -1 CSP +! ;
22 WORD: " ;
22 WORD: ." TYPE ;
</sekt>

<sekt inhalt="weiter mit Programmstrukturen">
: HERE DP @ ;
: JRBIT 8 ;
: JR0BIT 9 ;
( **** : XSETBT 1000 M* SWAP 0FFF AND OR ;
: XSETBT 0 1000 ROT U* SWAP DROP SWAP 0FFF AND OR ;
: ALLOT DP +! ;
: BRANCH, HERE 1+ M- JRBIT XSETBT , ;
: 0BRANCH, HERE 1+ M- JR0BIT XSETBT , ;
IMMEDIATE: BEGIN HERE ;
IMMEDIATE: AGAIN BRANCH, ;
IMMEDIATE: UNTIL 0BRANCH, ;
IMMEDIATE: IF JR0BIT 1 ALLOT HERE ;
IMMEDIATE: END_IF HERE OVER M- ROT XSETBT SWAP 1- ! ;
IMMEDIATE: ELSE 1 ALLOT COMPILE END_IF JRBIT HERE ;
IMMEDIATE: WHILE COMPILE IF ;
IMMEDIATE: REPEAT ROT COMPILE AGAIN COMPILE END_IF ;
</sekt>

<sekt inhalt="etliche kleinere Funktionen">
: C@ @ ;
: C! ! ;
: 1+ ( a -- a+1 ) 1 M+ ;
: 1- ( a -- a+1 ) -1 M+ ;
: M- MINUS M+ ;
: = M- 0= ;
: LT ( a b -- r ) M- 0LT ;
: > ( a b -- r ) SWAP LT ;
: M* ( a b -- a*b ) 0 ROT ROT U* SWAP DROP ;
: BYE BEGIN ." BYE " AGAIN ;
: +! ( a adr -- adr+1 ) SWAP OVER @ M+ SWAP ! ;
: R> RP @ 1+ @ RP @ 1+ RP 2DUP @ @ SWAP ! ! ;
: >R RP @ DUP 1- RP 2DUP @ @ SWAP DUP 1- RP ! ! ! ! ; 
: R RP @ 1+ @ ; ( bei R> >R nicht unterhalb RP speichern wegen INTXY )
: , DP @ ! 1 DP +! ;
: EXECUTE PC ! ;
: KEY BEGIN ( NOOP ) { A004 , } KEYCODE2 NOT WHILE DROP REPEAT ;
: EMIT ' EMITCODE EXECUTE ;
: SHL16 ( a -- t a' )
  0 SWAP 10 U* SWAP ; ( t a' = SHL a )
: DIG ( n -- c )
  DUP 0A LT IF ELSE 7 M+ END_IF 30 M+ ;
: TYPE
  BEGIN DUP WHILE
    SWAP DUP C@ EMIT 1+
    SWAP 1- REPEAT
  2DROP ;
: HG. SHL16 DIG EMIT SHL16 DIG EMIT SHL16 DIG EMIT
  SHL16 DIG EMIT DROP ;
: M. HG. 20 EMIT ;
: M? @ M. ;
: CR 
  CRDP @ DP @ M- STAT @ 0= NOT OR XBIT @ 0= NOT AND IF 
    3C EMIT ." fl>" CRDP @ M. CRBZEIG @ M. 3C EMIT ." /fl>"
    3C EMIT ." fr>" DP @ M. BZEIG @ M. 3C EMIT ." /fr>"
    DP @ CRDP ! BZEIG @ CRBZEIG ! 
    END_IF
  0A EMIT ;
: FEHLERTEXT ( n -- n ) ;
: DISABLE 
  CR ." weiter nach Taste ESCAPE "
  BEGIN 20 EMIT 8 EMIT KEY 1B = UNTIL ; 
: ERROR
  DUP ERRORNR !
  0 STAT !
  CR IN1 @ IN3 @ IN1 @ M- 1- TYPE ." ???"
  " FEHLERTEXT" INTERPRET
  CR ." ERROR - Fehler Nummer " M. 
  DISABLE QUIT ;
: CSP! SP @ CSP ! ;
: CSP? SP @ CSP @ M- IF 9 ERROR END_IF ;
</sekt>

<sekt inhalt="lokale Variablen">
: LOCAL ( n -- ) 1+ LOCALADRESSE @ OVER M- DUP LOCALADRESSE ! ! ;
: END_LOCAL ( -- ) LOCALADRESSE @ DUP @ M+ LOCALADRESSE ! ;
: L0 LOCALADRESSE @ 1+ ;
: L1 LOCALADRESSE @ 2 M+ ;
: L2 LOCALADRESSE @ 3 M+ ;
: L3 LOCALADRESSE @ 4 M+ ;
: L4 LOCALADRESSE @ 5 M+ ;
: L5 LOCALADRESSE @ 6 M+ ;
: L6 LOCALADRESSE @ 7 M+ ;
: L7 LOCALADRESSE @ 8 M+ ; ( soviele reichen schon )
</sekt>

<sekt inhalt="alles zu KEY">
IMMEDIATE: ' ( /name/ -- -- pfa ) 
  20 WORD FIND LCFA DROP 1+ STAT @ IF LIT, END_IF ; 

: INCR4 ( adr -- )
  DUP @ 1+
  DUP 3FF AND 000 = IF -400 M+ END_IF 
  SWAP !
  ;

: KEY_INT ( -- )
  KEYADR @ 
  DUP 08 LT IF 
    18 M+ @ DUP IF DUP EXECUTE END_IF
    DROP
    ELSE
      IRAMADR @ ! 
      IRAMADR INCR4
      IRAMADR @ JRAMADR @ M- 3FF AND 
      80 > IF XOFF @ 0= IF -1 XOFF ! 13 EMIT END_IF END_IF 
      END_IF
  0 KEYADR !
  ;

: KEYCODE2 ( -- c f )
  JRAMADR @ IRAMADR @ = IF 0 0 
    ELSE JRAMADR @ @ -1
    JRAMADR INCR4
    IRAMADR @ JRAMADR @ M- 3FF AND
    20 LT IF XOFF @ IF 0 XOFF ! 11 EMIT END_IF END_IF
    END_IF
  ;

' KEY_INT 04 000 MLIT OR 12 !
</sekt>

<sekt inhalt="es folgt der Interpreter">
( ESCAPE durch EXPECT durchlaufen lassen )
( und 7F in 08 umwandeln )
( und nach n Zeichen kein 0D mehr lesen )
: EXPECT ( /text/  adr n -- adr m )
  5 LOCAL
  L2 ! L1 ! L1 @ L4 !
  BEGIN
    KEY
    DUP 14 ( 20 ) ( =^T, ^R=18 ) = IF 
      DROP L1 @ C@ END_IF
    DUP 7F = IF DROP 08 END_IF
    DUP 08 = IF L4 @ L1 @ LT IF
      -1 L1 +!
      1 L2 +!
      8 EMIT 20 ( 32 ) EMIT 8 EMIT
      END_IF END_IF
(    DUP 20 ( 32 ] LT NOT OVER 08 = OR OVER 1B = OR L2 @ 0= NOT AND WHILE
      DUP 20 LT IF ( DROP ) ELSE
        -1 L2 +!
        L2 @ 0LT IF 6 ERROR END_IF
        DUP EMIT
        DUP L1 @ C! 1 L1 +!
        END_IF 
    DUP 20 LT OVER 08 = NOT AND SWAP 1B = NOT AND L2 @ 0= OR UNTIL
(      REPEAT
  20 ( 32 ) EMIT
  L4 @ L1 @ L4 @ M-
  2DUP M+ 0 SWAP C!
  END_LOCAL
  ;


: DIGIT ( z -- d r ) ( r=-1 wenn gueltig )
  ( vorher r=0 wenn gueltig!!! )
  DUP 30 ( 30 48 ) LT NOT OVER 3A ( 3A 58 ) LT AND
  OVER 41 ( 41 65 ) LT NOT OR 
  DUP IF ( z -1 wenn gueltig )
    SWAP 30 ( 30 48 ) M-
    DUP 0A LT NOT IF 7 M- END_IF
    DUP BASE @ LT NOT IF DROP DROP 0 0 END_IF
    SWAP END_IF ;

: NUMBER ( badr n -- a r )
  7 LOCAL ( L3 L4 nicht verwendet )
  L1 ! L0 !
  0 L1 @ IF
    DUP L2 ! 1 L5 ! ( Vorzeichen )
    BEGIN ( M23 Vorzeichen gucken )
      -1 L6 ! 
      L0 @ L2 @ M+ C@
      2B ( 43 2B ) = IF L2 @ 1+ L2 ! 0 L6 ! ELSE
        L0 @ L2 @ M+ C@
        2D ( 45 2D ) = IF L2 @ 1+ L2 !
          0 L6 !
          L5 @ MINUS L5 ! END_IF
        END_IF
      L6 @ UNTIL
    L2 @ L1 @ LT IF
      BEGIN
        L0 @ L2 @ M+ C@
        DUP IF ( oo L1 auf Bytes )
          DIGIT NOT IF DROP L1 @ MINUS L1 ! ELSE
            SWAP BASE @ M* M+
            L2 @ 1+ L2 ! 
            END_IF
          ELSE DROP L2 @ L1 ! END_IF
        L2 @ L1 @ LT NOT UNTIL
      END_IF ( M19 )
    END_IF ( M19 )
  L5 @ 0LT IF MINUS END_IF
  L2 @ L1 @ M- ( oo noch kein fadr )
  END_LOCAL
  ;

: WORD ( b -- adr n )
  >R
  IN3 @ IN2 !
  BEGIN 
    IN3 @ C@ R = IN3 @ IN4 @ LT AND WHILE
      1 IN3 +! REPEAT
  IN3 @ IN2 !
  BEGIN 
    IN3 @ C@ 3C = IF IN3 @ IN4 ! END_IF ( alles nach 3C ist Kommentar )
    IN3 @ C@ R = NOT IN3 @ IN4 @ LT AND WHILE
      1 IN3 +! REPEAT
  IN2 @ IN3 @ OVER M-
  DUP IF 1 IN3 +! END_IF
  R> DROP
  ;

: Z= ( adr1 n1 adr2 n2 -- r )
  >R OVER R M- IF R> DROP DROP DROP DROP 0 ELSE
    R> DROP SWAP 0 BEGIN 2DUP M- WHILE >R >R
      OVER C@ OVER C@ M- IF DROP DROP 0 0 END_IF
      DUP IF 1+ SWAP 1+ SWAP END_IF
      R> R> 1+ REPEAT 2DROP ( neu bei 16 BIT ohne DO LOOP )
    DROP IF -1 ELSE 0 END_IF
    END_IF ;
( : Z= DROP SWAP DROP SWAP @ SWAP @ = ;

: FIND ( adr n -- lfa r )
  >R >R 0 ( heisst noch nicht gefunden )
  LFA @ 
  SMUDGEBIT @ IF DUP @ M+ END_IF
  BEGIN
    DUP 1+ DUP @ ( lfa nfa adr )
    SWAP 1+ @ ( lfa adr n1 )
    ( 2DUP CR B. 2DUP TYPE
    ( BEGIN 2DUP M+ 1 M- C@ 0= WHILE 1 M- REPEAT ( ??? momentan nicht )
    R> R> 2DUP >R >R ( 0 lfa adr1 n1 adr2 n2 )
    Z= IF SWAP 0= SWAP END_IF ( heisst gefunden )
    OVER 0= OVER @ 0= NOT AND 
    OVER DUP @ M+ LFA @ = NOT AND WHILE ( wegen 2xladen )
      DUP @ M+ REPEAT
  R> DROP R>
  ROT 0= IF DROP DROP 0 0 END_IF
  ( OVER LFA @ SWAP LT IF M." *" OVER M. LFA @ M. END_IF ( vref wenn gebraucht )
  ;

: LCFA ( lfa r -- cfa r ) SWAP 3 M+ SWAP ;

: COMPILE, ( adr -- ) 04 000 MLIT OR , ;

: CREATE ( /name/  -- )
  CSP! ( Stapelbalance prüfen in ; )
  DP @ LFA @ OVER M- , LFA !
  20 WORD Z,
  1 SMUDGEBIT ! ( HERE 2 M- DUP @ MINUS SWAP ! ( UNSMUDGE )
  ;

: INTERPRET ( adr n -- ... )
  IN1 @ >R IN2 @ >R IN3 @ >R IN4 @ >R
  OVER M+ IN4 !
  DUP IN1 ! DUP IN2 ! IN3 !
  BEGIN
  ( ... qstack? Stapelpruefen )
  20 WORD
  DUP WHILE
    2DUP FIND 
    DUP IF ( gefunden )
      >R >R 2DROP R> R> LCFA DROP EXECUTE
      ELSE ( nicht gefunden )
        2DROP
        2DUP NUMBER IF ( keine Zahl )
          2DROP DROP
          3 ERROR
         ( DROP BNUMBER
         ( DUP IF DUP IN2 ! END_IF
         ( IF 3 ERROR END_IF
         ( STAT @ IF SWAP LIT, LIT, END_IF
          ELSE ( eine Zahl )
            ROT DROP SWAP DROP
            STAT @ IF LIT, END_IF ( oo LIT, fuer gr )
            END_IF
        END_IF
    REPEAT 2DROP
  R> IN4 ! R> IN3 ! R> IN2 ! R> IN1 !
  ;

: QUIT
  RP0 @ RP ! 
  XBIT @ IF 3C EMIT ." /ok>" ELSE ." ok" END_IF
  BEGIN ( im Prinzip nur BEGIN CR TIB @ 100 EXPECT INTERPRET AGAIN )
    CR 
    TIB @ 100 EXPECT
    OVER @ 3C = IF 2DROP ELSE ( xml am Zeilenanfang gleich überlesen )
      XBIT @ IF 
        3C EMIT ." ok>" 
        INTERPRET 
        3C EMIT ." /ok>" 
        ELSE
          1B EMIT 5B EMIT 33 EMIT 36 EMIT 6D EMIT
          INTERPRET 
          STAT @ 0= IF ." ok" END_IF 
          1B EMIT 5B EMIT 33 EMIT 39 EMIT 6D EMIT
          END_IF 
      END_IF
    AGAIN 
  ;


: START ." FORTY-FORTH" CR CR QUIT ;


: SMUDGE 0 SMUDGEBIT ! ( LFA @ 1+ DUP @ DUP 0LT IF MINUS END_IF SWAP ! ) ;

: (IMMEDIATE:) R> >R ;
:   (COMPILE:) R> COMPILE, ;
:          (:) R> STAT @ IF COMPILE, ELSE >R END_IF ;

: IMMEDIATE: CREATE 1 STAT ! COMPILE (IMMEDIATE:) ;
:   COMPILE: CREATE 1 STAT ! COMPILE (COMPILE:) ;
:          : CREATE 1 STAT ! COMPILE (:) ;

( das hier jetzt mit dem neuen CREATE: )
IMMEDIATE: ; 0 STAT ! CSP? RETURN , SMUDGE { SMUDGE } ; 
( tatsaechlich { SMUDGE } wegen 2x laden!!! ) 
( Ende der Axiome. Hiermit enden die Axiome. )
</sekt>

<sekt inhalt="neues Vokabular abkoppeln und Programm neu starten">
0 DPMERK @ ! ( abkoppeln )
HERE M. BZEIG M?

START
</sekt>
</sekt>
</AXIOME>

</script>
<script id="DUMPZ">
<FFINIT2>
<sekt inhalt="bis Adresse 0800H passt noch DUMPZ drauf (inzwischen nicht mehr)">
( erste Forth Erweiterungen )
( - DUMPZ )
( RAMB-Inhaltsausgabe erzeugen: )
: LG. ( n -- )
  DUBIT @ IF SHL16 DROP SHL16 DROP 
    ELSE SHL16 DIG EMIT SHL16 DIG EMIT END_IF 
  SHL16 DIG EMIT SHL16 DIG EMIT DROP ;
: NG. ( n -- )
  ." x" 22 EMIT LG. 22 EMIT ." ," ; 
: DUMPZ ( bis+1 von dubit -- )
  DUBIT ! XBIT @ >R 0 XBIT !
  " ' START " INTERPRET 04 000 MLIT OR 10 !
  CR 3C EMIT ." DUMPZ>"
  BEGIN
    CR ."   "
    0000 BEGIN
      2DUP M+
      DUP IRAMADR = IF DROP JRAMADR END_IF
      DUP LOCALADRESSE = IF DROP 2F00 2F80 ! 2F80 END_IF
      @ NG. 1+ DUP 10 =
      UNTIL DROP
    ."  -- " DUP HG. ." -" DUP 0F M+ HG.
    10 M+
    2DUP > NOT UNTIL 2DROP
  CR 3C EMIT ." /DUMPZ>"
  R> XBIT !
  ;

HERE M. BZEIG M?
</sekt>

<sekt inhalt="ProgRAM und ByteRAM für Step_9 und Step_10 erstellen">
HERE 0 0 DUMPZ          ( generiert ProgRAM für P20_FFP.vhd Step_10 )
2F20 2F00 0 DUMPZ       ( generiert In8tialisierungswerte )
BZEIG @ 3000 -1 DUMPZ   ( generiert ByteRAM für P20_FFP.vhd Step_10 )
</sekt>

</script>
<script id="INIT41.txt">( : LIT, ( a -- ... DUP ABS 04 000 MLIT AND IF 111 ERROR END_IF , ;
( LIT, reparieren:   muss da 0C sein
0C ' LIT, 2 M+ ! ( macht aus der 04 ein 0C )

0A 021 MLIT MCODE D+
0A 029 MLIT MCODE 2!
0A 02A MLIT MCODE 2@

7 8 3 4
D+
M. M.

: DUMP ( addr n -- )
  BEGIN SWAP ( CR DUP M. ) DUP @ M. 1+ SWAP 1- DUP 0= UNTIL 2DROP ;

0 20 DUMP

: PIN3HIGH 0 4 2020 001C 2! ;
: PIN3LOW  0 4 2020 0028 2! ;

PIN3LOW

0 100 DUMP

PIN3HIGH

: (*REM*)
  BEGIN KEY DUP 1 = NOT WHILE DUP 0D = IF DROP 0A END_IF EMIT 
  2 @ 1 AND IF PIN3LOW ELSE PIN3HIGH END_IF
  REPEAT DROP ;

: LOGINPUT ( -- <inputtext> )
  0 0 BEGIN
    2DUP
    1000 0 D+ 2@ DUP FF AND 0D = IF DROP 0A END_IF EMIT DROP
    0 1 D+
    OVER 3 @ = OVER 2 @ = AND UNTIL
  2DROP
  ;

( LOGINPUT 0 10 DUMP

0A 027 MLIT MCODE N+
0A 02B MLIT MCODE 100000EXECUTE
0A 02C MLIT MCODE UI
0A 02D MLIT MCODE IU
0A 004 MLIT MCODE KEYCODE ( -- char flag )
: T ( LFA neu: ) 10 07DD 4 * UI LFA ! 100000EXECUTE ;
( 0 0123 10 0000 2!
( 0A 0000 MLIT 0003 10 0004 2!
10 0000 2@ M. M.
10 0004 2@ M. M.
( T ( dann S und #
T
</script><script>

0 SP !

: N. ( a -- <32bit> )
  IU SWAP HG. M. ;

10 4 UI @ 77 N+ N.

2F20 CONSTANT RAMP1 RAMP1 1+ RAMP1 ! ( bis 2F17 sind neu BASE TIB ... )
: VARIABLE RAMP1 @ DUP CONSTANT DUP 1+ RAMP1 ! ! ;

2020 0000 UI VARIABLE GPIOBASE
GPIOBASE @ @ N.
GPIOBASE @ 4 N+ @ N.
6666 5555 UI GPIOBASE !
GPIOBASE @ N.
4 GPIOBASE @ 28 N+ ! ( PIN3LOW )
GPIOBASE @ 28 N+ @ N.
GPIOBASE @ 34 N+ @ N.
4 GPIOBASE @ 1C N+ ! ( PIN3HIGH )
GPIOBASE @ 1C N+ @ N.
GPIOBASE @ 34 N+ @ N.
0 GPIOBASE @ 1C N+ ! ( PIN3HIGH )
GPIOBASE @ 1C N+ @ N.
GPIOBASE @ 34 N+ @ N.
</script
  </body>
</html>